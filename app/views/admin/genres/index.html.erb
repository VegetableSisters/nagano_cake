<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card">
         <div class="card-header text-center">
          <h3>ジャンル一覧</h3>
        </div>
        <div class="card-body">
          <% if @genre.errors.any? %>
            <div class="alert alert-danger" role="alert">
              <%= @genre.errors.count %>件のエラーが発生しました
              <ul>
                <% @genre.errors.full_messages.each do |message| %>
                  <li><%= message %></li>
                <% end %>
              </ul>
            </div>
          <% end %>

          <div class="my-4">
            <%= form_with model: @genre, url: '/admin/genres', method: :post, class: 'form-inline' do |f| %>
              <div class="form-group mx-sm-3 mb-2">
                <%= f.label :name, 'ジャンル名', class: 'sr-only' %>
                <%= f.text_field :name, class: 'form-control', placeholder: 'ジャンル名' %>
              </div>
              <%= f.submit '新規登録', class: 'btn btn-success mb-2' %>
            <% end %>
          </div>

          <table class="table table-hover">
            <thead class="thead-light">
              <tr>
                <th>ジャンルID</th>
                <th>ジャンル名</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <% @genres.each do |genre| %>
                <tr>
                  <td><%= genre.id %></td>
                  <td><%= genre.name %></td>
                  <td>
                    <%= link_to '編集', edit_admin_genre_path(genre), class: "btn btn-sm btn-success " %>
                    <%= link_to '削除', admin_genre_path(genre), class: 'btn btn-sm btn-danger mr-2',  method: :delete, data: { confirm: '本当に削除しますか？' } %>
                  </td>
                </tr>
              <% end %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
